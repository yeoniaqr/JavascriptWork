<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>[array 배열]10.배열에 특정 값이 포함되어 있는지 여부 체크하기</title>
</head>

<body>

  <h2>[array 배열]10.배열에 특정 값이 포함되어 있는지 여부 체크하기</h2>
  <p>
    1. indexOf(), lastIndexOf() <br />
    2. includes()<br />
    3. findIndex()<br />
    4. some()<br />
    5. includes() vs some()
  </p>
</body>


<script>
  /* ------------------------------------------------------------
    indexOf(), lastIndexOf()
    arr.indexOf(searchElement[, fromIndex])
    arr.lastIndexOf(searchElement[, fromIndex])

    indexOf() 함수는 
      배열 안에서 찾으려는 값(searchElement)과 정확하게 일치(===)하는'첫번째' element의 index를 리턴합니다. 

    lastIndexOf() 함수는 
      배열 안에서 찾으려는 값(searchElement)과 정확하게 일치(===)하는 '마지막' element의 index 를 리턴합니다.
      두 함수 모두 찾으려는 값이 배열에 없으면 -1을 리턴합니다.
      이 특징을 이용해서 특정 값이 배열에 포함되어 있는지 확인할 수 있습니다.
  -------------------------------------------------------------*/
  const arr = [1, 2];

  let elementExistYn = true;

  if (arr.indexOf(3) < 0) {
    elementExistYn = false;
  }

  document.writeln(elementExistYn); // false

  /* ------------------------------------------------------------
  includes()
  arr.includes(valueToFind[, fromIndex])
  includes() 함수는 배열이 특정값을 포함하고 있는지의 여부를 boolean 값으로 반환합니다. 

  파라미터 
    valueToFind
    찾으려는 값

  fromIndex
    검색을 시작할 index
    기본값은 0
    음수가 입력되면 arr.length+fromIndex로 계산

  리턴값 
    배열이 valueToFind 값을 포함하고 있는지의 여부(boolean)
  -------------------------------------------------------------*/
  const arr1 = [1, 2];

  document.writeln(arr1.includes(1)); // true
  document.writeln(arr1.includes(3)); // false
  document.writeln(arr1.includes(1, 1)); // false
  document.writeln(arr1.includes(1, 2)); // false
  document.writeln(arr1.includes(2, -1)); // true

  /* ------------------------------------------------------------
  findIndex()
  arr.findIndex(callback(element[, index[, array]])[, thisArg])

  findIndex() 함수는 
  배열에서 값을 찾는 조건을 callback 함수로 전달하고,
  배열에서 조건에 맞는 값의 '첫번째 index'를 리턴하는 함수입니다.
  만약, 조건에 맞는 값이 배열에 없으면 -1을 리턴합니다.
  -------------------------------------------------------------*/
  const arr2 = [1, 2, 3, 2];

  function findNumberTwo(element) {
    if (element === 2) {
      return true;
    }
  }
  document.writeln(arr2.findIndex(findNumberTwo)); // 1
  document.writeln(arr2.findIndex(findNumberTwo) > -1); // true
  /* ------------------------------------------------------------
  some()
  arr.some(callback(element[, index[, array]])[, thisArg])

some() 함수는 
  배열에서 값을 찾는 조건을 callback 함수로 전달하고,
  배열에 조건에 맞는 값이 있는지 여부(boolean)를 리턴하는 하는 함수입니다.
  조건에 맞는 값이 있으면 true, 조건에 맞는 값이 없으면 false를 리턴합니다. 

파라미터 
  callback(element, index, array) 함수
  조건을 비교할 callback 함수이고, 다음 3개의 파라미터가 전달됩니다.
  callback 함수에서 사용자가 테스트할 조건을 정의하고,
  만약 배열의 값이 조건에 부합하면 true를 리턴하면,
  some() 함수는 true를 리턴합니다.
  조건에 부합하는 값을 찾으면, 그 이후의 배열 값은 테스트 되지 않습니다.
    element : 현재 처리 중인 배열의 element입니다.
    index : 현재 처리 중인 배열의 index입니다. (optional)
    array : some() 함수가 호출된 배열입니다. (optional)
    thisArg (optional)
    callback을 실행할 때 this로 사용할 객체입니다.

리턴 값 
  조건에 부합하는 값이 있으면 true, 없으면 false를 리턴합니다.
-------------------------------------------------------------*/
  const arr3 = [1, 2, 3, 2];
  const arr4 = [1, 3, 4, 5];

  function findNumberTwo(element) {
    if (element === 2) {
      return true;
    }
  }
  document.writeln(arr3.some(findNumberTwo)); // true
  document.writeln(arr4.some(findNumberTwo)); // false

  /* ------------------------------------------------------------
some() 함수로 배열에 짝수가 있는지 확인하기
-------------------------------------------------------------*/
  const arr5 = [1, 2, 3, 2];
  const arr6 = [1, 3, 5, 7];

  function checkEvenNumber(element) {
    if (element % 2 === 0) {
      return true;
    }
  }
  document.writeln(arr5.some(checkEvenNumber)); // true
  document.writeln(arr6.some(checkEvenNumber)); // false

  /* ------------------------------------------------------------
includes() vs some() 
-------------------------------------------------------------*/
  const arr7 = [1, 2, 3, 2];
  const arr8 = [1, 3, 5, 7];

  function checkEvenNumber(element) {
    if (element % 2 === 0) {
      return true;
    }
  }
  document.writeln(arr7.some(checkEvenNumber)); // true
  document.writeln(arr8.some(checkEvenNumber)); // false


  const obj1 = { name: 'apple' };
  const obj2 = { name: 'apple' };
  const obj3 = obj1;
  document.writeln(obj1 === obj2); // false
  document.writeln(obj1 === obj3); // true


  const arr9 = [{ name: 'apple' }, { name: 'banana' }];
  function checkApple(element) {
    if (element.name === 'apple') {
      return true;
    }
  }
  document.writeln(arr9.some(checkApple)); // true
</script>

</html>