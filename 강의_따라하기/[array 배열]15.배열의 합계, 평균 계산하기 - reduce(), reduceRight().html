<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>[array 배열]15.배열의 합계, 평균 계산하기 - reduce(), reduceRight()</title>
</head>

<body>

  <h2>[array 배열]15.배열의 합계, 평균 계산하기 - reduce(), reduceRight()</h2>
  <p>
    1. reduce() <br />
    2. reduce() 함수로 배열의 합계 구하기<br />
    3. reduce() 함수로 배열의 평균 구하기<br />
    4. reduceRight()<br />
  </p>
</body>
<script>

  /* ------------------------------------------------------------
    1. reduce()
    arr.reduce(callback(accumulator, currentValue [, currentIndex[, array]]) [, initialValue])

reduce() 함수는... 
  배열(arr)의 각 element들에 대해서 
  파라미터로 입력받은 callback 함수를 실행하여,
  하나의 리턴값을 반환하는 함수입니다.
  callback 함수는 배열(arr)의 모든 element를 대상으로 한번씩 호출됩니다.
  이 때, callback 함수에서 리턴되는 값은,
  다음 element에 대한 callback 함수 실행시 파라미터(accumulator)로 입력되어 활용될 수 있습니다.
  배열의 모든 element들에 대해 callback 함수 실행이 완료되면,
  reduce() 함수는 마지막 element의 callback 함수의 리턴값을 리턴합니다.
  따라서, reduce() 함수를 사용하면, 배열을 순차적으로 순회하면서 배열의 값을 누적하는데 유용합니다.

파라미터 
  callback 함수
  배열의 각 element들에 대해서 실행되는 callback 함수이고, 
  이 함수의 리턴값은 다음 element에 대한 callback 함수 실행시 파라미터(accumulator)로 전달됩니다.
  accumulator : 이전 element에 대한 callback 함수의 리턴값
  currentValue : 현재 처리중인 배열 element
  currentIndex : 현재 처리중인 배열 index
  array : 배열 전체

  initialValue
  callback 함수를 처음 실행할 때, accumulator의 값.

  initialValue를 지정하지 않으면, 
  callback 함수를 처음 실행할 때,
  accumulator의 값은 배열의 첫번째 값(arr[0])이 되고,
  currentIndex는 1이 됩니다.

  initialValue를 지정하면,
  callback 함수를 처음 실행할 때,
  accumulator의 값은 initalValue가 되고,
  currentIndex는 0이 됩니다.

리턴값 
  최종 누적 값(accumulator)
  -------------------------------------------------------------*/

  /* ------------------------------------------------------------
    2. reduce() 함수로 배열의 합계 구하기 
  -------------------------------------------------------------*/
  const arr = [1, 2, 3];

  const result = arr.reduce(function add(sum, currValue) {
    return sum + currValue;
  }, 0);

  document.writeln(result); // 6


  const arr1 = [];

  // error
  const result = arr1.reduce(function add(sum, currValue) {
    return sum + currValue;
  });

  document.writeln(result);

  /* ------------------------------------------------------------
    3. reduce() 함수로 배열의 평균 구하기
  -------------------------------------------------------------*/
  const arr = [1, 2, 3];

  const result = arr.reduce(function add(sum, currValue) {
    return sum + currValue;
  }, 0);
  const average = result / arr.length;

  document.writeln(average); // 2

  /* ------------------------------------------------------------
   4. reduceRight()
  -------------------------------------------------------------*/
  const arr = ['a', 'b', 'c'];

  const result = arr.reduceRight(function (str, currValue) {
    return str + currValue;
  }, '');

  document.writeln(result); // cba
</script>

</html>