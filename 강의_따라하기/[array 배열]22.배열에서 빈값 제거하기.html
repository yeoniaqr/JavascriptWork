<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>[array 배열]22.배열에서 빈값 제거하기</title>
</head>

<body>

  <h2>[array 배열]22.배열에서 빈값 제거하기</h2>
  <p>
    undefined 값만 제거하기 (filter 함수와 '!==' 연산자) <br />
    undefined, null(nullish value) 제거하기 (filter 함수와 '!=' 연산자)<br />
    빈값(empty value) 제거하기<br />
    undefined, null, false, '', 빈값(empty) 모두 제거하기<br /><br />


    0. filter 함수 알기<br />
    Javascript의 filter() 함수를 사용하면,<br />
    배열에서 특정 조건에 부합하는 값을 찾아서, 그 값들로 새로운 배열을 만들어서 리턴합니다.<br />
    그래서, 이 포스팅에서는,<br />
    배열에서 빈 값들을 찾아서 그 값들을 제외하고,<br />
    값이 있는 원소들로 새로운 배열을 만들어서 리턴하기 위해 filter 함수를 사용합니다.<br />
    filter 함수를 잘 모른다면 먼저, filter 함수에 대해서 알아보세요.
  </p>
</body>
<script>

  /* ------------------------------------------------------------
  1. undefined 값만 제거하기 ( filter 함수와 '!==' 비교 연산자 )
  -------------------------------------------------------------*/
  const arr = [1, undefined, null, false, , '', '    '];

  const newArr =
    arr.filter(
      (element, i) => element !== undefined
    );

  newArr.forEach((e, i) => {
    document.write(i + " : " + e + '<br>')
  })

  //arr[4]의 값은 undefined가 아닌 empty인데 왜 같이 삭제 되었을까요? 
  const arr2 = [1, undefined, null, false, , '', '    '];

  arr2.filter((element, i) => {
    document.writeln(i)
  });

  /* ------------------------------------------------------------
  2. undefined, null(nullish value) 제거하기 (filter 함수와 '!=' 연산자)
      javascript에서 undefined, null값을 nullish value 라고 합니다.
      이 두 값을 모두 배열에서 제거하기 위해서는
      앞의 예제에서 사용한 '!==' 연산자 대신에 '!=' 연산자를 사용합니다.
  -------------------------------------------------------------*/
  const arr3 = [1, undefined, null, false, , '', '    '];

  const newArr3 =
    arr3.filter(
      (element, i) => element != null
    );

  newArr3.forEach((e, i) => {
    document.write(i + " : " + e + '<br>')
  })

  /*
    이번에는 filter에서 사용하는 callback 함수에서
    각 element와 null을 '!=' 비교 연산자를 사용하여 비교하였습니다.
    결과를 보면
    arr[1], arr[2], arr[4]의 값이 삭제되고
    새로운 배열(newArr)은 4개의 원소(1, false, '', '    ')를 갖게 되는 것을 확인할 수 있습니다.
  */


  /* ------------------------------------------------------------
    3. 빈값(empty value) 제거하기
    const arr = [1, undefined, null, false, , '', '    '];
      이번에는 배열에 값이 할당되지 않은 원소를 제거하는 방법입니다.
      위 arr의 arr[4]는 어느 값도 할당되지 않은 상태입니다.
      이 값을 제거하는 방법입니다.
      filter 함수는 값이 할당되지 않은 index는 순회하지 않습니다.
  -------------------------------------------------------------*/
  const arr4 = [1, undefined, null, false, , '', '    '];

  arr4.filter((element, i) => {
    document.writeln(i)
  });

  /*
  filter 함수는 값이 할당되지 않은 index는 순회하지 않는다는 이러한 특성을 이용하여
  배열에서 빈 값을 제거할 수 있습니다.
  */
  const arr5 = [1, undefined, null, false, , '', '    '];
  const newArr5 =
    arr5.filter(
      (element) => true
    );
  newArr5.forEach((e, i) => {
    document.write(i + " : " + e + '<br>')
  })
  /*
  filter 함수를 사용하는 것은 위의 다른 케이스들과 같습니다.
  위 예제는 filter 함수의 callback 함수에서 무조건 true를 리턴하고 있습니다.
  filter 함수가 무조건 true를 리턴하므로, 
  순회하지 않은 arr[4]를 제외한 모든 원소들이
  새로운 배열(newArr)에 담기기 됩니다.
  이는 곧, 빈 값을 제외한 배열이 됩니다.
  */


  /* ------------------------------------------------------------
    4. undefined, null, false, '', 빈값(empty) 모두 제거하기 (Falsy value) 
    Javascript의 Falsy value는 Boolean으로 체크했을 때, false로 변환되는 값들을 말합니다.
    undefined, null, false, ''(empty string) 모두 Falsy value에 해당합니다.
  -------------------------------------------------------------*/
  const arr6 = [1, undefined, null, false, , '', '    '];
  const newArr6 = arr.filter(Boolean);
  newArr6.forEach((e, i) => {
    document.write(i + " : " + e + '<br>');
  });
  document.write('newArr[1].length : ' + newArr6[1].length);
</script>

</html>