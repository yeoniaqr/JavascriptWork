<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>[array 배열]21..배열 중복 값 개수 구하기</title>
</head>

<body>

  <h2>[array 배열]21..배열 중복 값 개수 구하기</h2>
  <p>
    forEach() 이용하기<br />
    reduce() 이용하기<br />
    Map 객체 이용하기<br />
  </p>
</body>
<script>

  /* ------------------------------------------------------------
  1. forEach() 이용하기
  -------------------------------------------------------------*/
  const arr = ['a', 'b', 'a', 'b', 'c']; //중복되는 값을 가지는 배열이 있습니다.
  const result = {}; //중복된 값의 갯수를 저장하기 위한 Object를 선언하였습니다.

  arr.forEach((x) => { //배열(arr)의 각각의 원소들을 순서대로 callback함수에 전달하여 실행합니다.
    result[x] = (result[x] || 0) + 1;
    //풀어쓰면
    //if(result[x]) {
    // result[x] = result[x] + 1;
    // }else {
    // result[x] = 0 + 1;
    // }
  });

  document.write(JSON.stringify(result));

  /* ------------------------------------------------------------
  2. reduce() 이용하기
  -------------------------------------------------------------*/
  const arr2 = ['a', 'b', 'a', 'b', 'c'];

  const result2 = arr2.reduce((accu, curr) => {
    accu[curr] = (accu[curr] || 0) + 1;
    return accu;
  }, {});

  document.write(JSON.stringify(result2));

  /* ------------------------------------------------------------
    3. Map 객체 이용하기
  -------------------------------------------------------------*/
  const arr3 = ['a', 'b', 'a', 'b', 'c'];

  const result3 = arr3.reduce((accu, curr) => {
    accu.set(curr, (accu.get(curr) || 0) + 1);
    return accu;
  }, new Map());

  for (let [key, value] of result3.entries()) {
    document.write(key + ' : ' + value + '<br>');
  }
</script>

</html>